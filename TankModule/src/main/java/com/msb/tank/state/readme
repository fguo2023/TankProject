其实就是将所有的if statement改成了一个抽象类。根据状态的不同，去实现一个方法。